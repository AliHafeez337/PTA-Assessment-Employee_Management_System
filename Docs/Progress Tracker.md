# Employee Management System (EMS)
## Progress Tracker

**ðŸ“± macOS Development | SQL Server via Docker (as per PDF)**

**Project Start Date:** February 17, 2026
**Current Status:** ðŸŸ¢ Complete
**Overall Progress:** 100%

---

## QUICK OVERVIEW

| Module | Status | Progress | Start Date | End Date |
|--------|--------|----------|------------|----------|
| Module 0: Setup | ðŸŸ¢ Completed | 100% | Feb 17, 2026 | Feb 17, 2026 |
| Module 1: Database | ðŸŸ¢ Completed | 100% | Feb 18, 2026 | Feb 18, 2026 |
| Module 2: Departments | ðŸŸ¢ Completed | 100% | Feb 18, 2026 | Feb 18, 2026 |
| Module 3: Employees | ðŸŸ¢ Completed | 100% | Feb 18, 2026 | Feb 18, 2026 |
| Module 4: Search/Filter | ðŸŸ¢ Completed | 100% | Feb 18, 2026 | Feb 18, 2026 |
| Module 5: Bulk Upload | ðŸŸ¢ Completed | 100% | Feb 18, 2026 | Feb 18, 2026 |
| Module 6: Dashboard | ðŸŸ¢ Completed | 100% | Feb 18, 2026 | Feb 18, 2026 |
| Module 7: Validation | ðŸŸ¢ Completed | 100% | Feb 18, 2026 | Feb 18, 2026 |
| Module 8: Final Polish | ðŸŸ¢ Completed | 100% | Feb 19, 2026 | Feb 19, 2026 |

**Legend:**
- ðŸ”´ Not Started
- ðŸŸ¡ In Progress
- ðŸŸ¢ Completed
- â¸¸ Blocked/Waiting

---

## MODULE 0: PROJECT SETUP

**Status:** ðŸŸ¢ Completed
**Progress:** 13/13 tasks (100%)
**Started:** February 17, 2026
**Completed:** February 17, 2026

### Tasks:
- [âœ…] Install Docker Desktop
- [âœ…] Install Visual Studio for Mac (or VS Code + .NET SDK)
- [âœ…] Setup SQL Server 2019 container in Docker
- [âœ…] Connect to SQL Server using DBeaver
- [âœ…] Create new ASP.NET Core MVC project
- [âœ…] Configure project settings
- [âœ…] Create database in DBeaver
- [âœ…] Setup SQL Server connection string
- [âœ…] Install NuGet packages (SQL Server)
- [âœ…] Create Data folder
- [âœ…] Create Services folder
- [âœ…] Test run application
- [âœ…] Verify database connection

### Your Setup Configuration:
- **OS:** macOS (Apple Silicon - ARM64) âœ…
- **Database Tool:** DBeaver âœ…
- **Database:** SQL Server 2019 via Docker (running with emulation) âœ…
- **IDE:** VS Code + .NET SDK âœ…
- **.NET Version:** 10.0.103
- **Project Location:** /Volumes/Office/Assessments/PTA/EmployeeManagementSystem

### Issues Encountered & Resolved:
1. **Docker Platform Warning:** Expected on Apple Silicon â€” SQL Server runs via Rosetta emulation âœ…
2. **DBeaver "GO" Error:** Fixed â€” don't use GO command in DBeaver, only in SSMS âœ…
3. **Project .csproj file named incorrectly:** Fixed â€” recreated project fresh âœ…
4. **RootNamespace set to `_`:** Fixed â€” recreated project fresh âœ…

### Approval Status: âœ… Module 0 COMPLETE

---

## MODULE 1: DATABASE & ENTITY FRAMEWORK

**Status:** ðŸŸ¢ Completed
**Progress:** 10/10 tasks (100%)
**Started:** February 18, 2026
**Completed:** February 18, 2026

### Tasks:
- [âœ…] Create Department.cs model class
- [âœ…] Create Employee.cs model class
- [âœ…] Create ApplicationDbContext.cs
- [âœ…] Configure Entity Framework in Program.cs
- [âœ…] Define model relationships (One Department â†’ Many Employees)
- [âœ…] Install EF Core NuGet packages (v8.0.0)
- [âœ…] Install dotnet-ef CLI tool globally
- [âœ…] Create initial migration (InitialCreate)
- [âœ…] Update database (apply migration)
- [âœ…] Verify tables in DBeaver

### Files Created:
- `Models/Department.cs`
- `Models/Employee.cs`
- `Data/ApplicationDbContext.cs`
- `Program.cs` (updated)
- `Migrations/` folder (auto-generated by EF)

### NuGet Packages Installed:
- `Microsoft.EntityFrameworkCore.SqlServer` v8.0.0
- `Microsoft.EntityFrameworkCore.Tools` v8.0.0
- `Microsoft.EntityFrameworkCore.Design` v8.0.0

### Database Tables Created:
- `Departments` â€” DepartmentId, DepartmentName, DepartmentCode, ActiveInactive, CreatedDate
- `Employees` â€” EmployeeId, Name, Email, Salary, DepartmentId (FK), JoiningDate (nullable)
- `__EFMigrationsHistory` â€” EF internal table to track applied migrations

### Key Concepts Learned:
- **EF (Entity Framework):** Library that lets you interact with the database using C# instead of raw SQL
- **DbContext:** The bridge between C# code and the database
- **Migrations:** EF reads your model classes and auto-generates SQL to create/update tables
- **virtual + ICollection:** Enables EF lazy loading for related data
- **get; set;:** C# property shorthand â€” compiler auto-generates a backing field
- **modelBuilder:** EF's configuration tool for unique indexes, relationships, constraints
- **base:** Calls the parent class constructor/method before your own code runs

### Approval Status: âœ… Module 1 COMPLETE

---

## MODULE 2: DEPARTMENT MANAGEMENT

**Status:** ðŸŸ¢ Completed
**Progress:** 15/15 tasks (100%)
**Started:** February 18, 2026
**Completed:** February 18, 2026

### Tasks:
- [âœ…] Create DepartmentController.cs
- [âœ…] Implement Index action (fetch all departments)
- [âœ…] Create Index.cshtml (list with table)
- [âœ…] Implement Create GET action
- [âœ…] Create Create.cshtml (add form)
- [âœ…] Implement Create POST action
- [âœ…] Implement Edit GET action
- [âœ…] Create Edit.cshtml (pre-filled form)
- [âœ…] Implement Edit POST action
- [âœ…] Implement hard delete with FK guard (blocks delete if employees exist)
- [âœ…] Add jQuery client-side validation
- [âœ…] Add server-side validation (ModelState + duplicate name check)
- [âœ…] Style pages with Bootstrap
- [âœ…] Show ErrorMessage TempData when delete is blocked
- [âœ…] Test all CRUD operations

### Files Created:
- `Controllers/DepartmentController.cs`
- `Views/Department/Index.cshtml`
- `Views/Department/Create.cshtml`
- `Views/Department/Edit.cshtml`
- `Views/Shared/_Layout.cshtml` (updated â€” added Departments nav link)

### Key Concepts Learned:
- **async/await:** Wait for DB response without freezing the app
- **IActionResult:** Return type that can be a View, Redirect, NotFound, Json, etc.
- **[HttpPost]:** Marks an action to only run on form submissions
- **[ValidateAntiForgeryToken]:** Security token to prevent cross-site attacks
- **ModelState.IsValid:** Checks all data annotation validation rules pass
- **ModelState.AddModelError:** Manually add a validation error (e.g. duplicate name)
- **TempData:** Persists a value for exactly one redirect (used for success/error messages)
- **Hard Delete:** Permanently removing a record (`_context.Remove()`)
- **FK Guard on Delete:** Check for dependent records before deleting; show friendly error if blocked

### Issues Encountered & Resolved:
1. **Departments not showing in list:** Checkbox was rendering unchecked by default. Fixed by passing `new Department()` from GET Create action. âœ…
2. **Soft delete kept records visible:** Changed to hard delete (`Remove()`) per user preference. âœ…
3. **Department delete crashed with FK error:** Added employee count check before delete; shows `TempData["ErrorMessage"]` if blocked. âœ…

### Approval Status: âœ… Module 2 COMPLETE

---

## MODULE 3: EMPLOYEE MANAGEMENT

**Status:** ðŸŸ¢ Completed
**Progress:** 18/18 tasks (100%)
**Started:** February 18, 2026
**Completed:** February 18, 2026

### Tasks:
- [âœ…] Create EmployeeController.cs
- [âœ…] Implement Index action (with eager-loaded Department via `.Include()`)
- [âœ…] Create Index.cshtml (employee table)
- [âœ…] Create _CreateEmployee.cshtml (partial view / popup form)
- [âœ…] Add "Add Employee" button that opens modal
- [âœ…] Populate department dropdown (active departments only)
- [âœ…] Implement Create POST action with duplicate email check
- [âœ…] Add jQuery modal open/close handling
- [âœ…] Add AJAX form submission (no page reload)
- [âœ…] Refresh list after add
- [âœ…] Create _EditEmployee.cshtml (partial view / popup form)
- [âœ…] Implement Edit GET and POST actions
- [âœ…] Implement Delete action (AJAX, with antiforgery token)
- [âœ…] Add `@Html.AntiForgeryToken()` to Index page (required for delete AJAX)
- [âœ…] Create GetDepartmentEmployeeCount AJAX endpoint
- [âœ…] Display employee count when department is selected in form
- [âœ…] Add client-side validation via `_ValidationScriptsPartial`
- [âœ…] Test all operations

### Files Created:
- `Controllers/EmployeeController.cs`
- `Views/Employee/Index.cshtml`
- `Views/Employee/_CreateEmployee.cshtml`
- `Views/Employee/_EditEmployee.cshtml`
- `Views/Shared/_Layout.cshtml` (updated â€” added Employees nav link)

### Migrations Added:
- `NullableJoiningDate` â€” changed `JoiningDate` from `DateTime` to `DateTime?`

### Issues Encountered & Resolved:
1. **Page refreshing instead of AJAX submit:** Fixed by switching to jQuery `.on('submit')` with `e.preventDefault()` first. âœ…
2. **`$.validator is undefined`:** Fixed by adding `@await Html.PartialAsync("_ValidationScriptsPartial")` to Index Scripts section. âœ…
3. **Build error: `RenderPartialAsync` in section:** Fixed by using `Html.PartialAsync` instead. âœ…
4. **Date picker stuck on year 0001:** Fixed by making `JoiningDate` nullable (`DateTime?`) + added migration. âœ…
5. **`[Required]` on `DepartmentId` always passes:** Replaced with `[Range(1, int.MaxValue)]`. âœ…
6. **Employee delete returns 400:** Added `@Html.AntiForgeryToken()` to Index.cshtml. âœ…

### Approval Status: âœ… Module 3 COMPLETE

---

## MODULE 4: SEARCH & FILTER

**Status:** ðŸŸ¢ Completed
**Progress:** 9/9 tasks (100%)
**Started:** February 18, 2026
**Completed:** February 18, 2026

### Tasks:
- [âœ…] Add search textbox to Employee Index.cshtml
- [âœ…] Add department filter dropdown
- [âœ…] Implement search functionality (by name, server-side)
- [âœ…] Implement filter functionality (by department, server-side)
- [âœ…] Make search and filter work together (combined query)
- [âœ…] Add "Clear filters" button
- [âœ…] Show result count (changes wording when filters are active)
- [âœ…] Test with various search terms
- [âœ…] Test filter combinations

### Files Modified:
- `Controllers/EmployeeController.cs` â€” Index action updated
- `Views/Employee/Index.cshtml` â€” search/filter bar added

### How It Works:
- Search form uses `method="get"` â€” filters appear as URL query parameters
- Controller builds query dynamically using `.AsQueryable()` with chained `.Where()` calls
- `ViewBag.SearchName` and `ViewBag.SelectedDepartmentId` passed back so inputs stay filled
- "Clear" button is a plain `<a asp-action="Index">` link â€” navigates to `/Employee` with no params

### Approval Status: âœ… Module 4 COMPLETE

---

## MODULE 5: BULK EMPLOYEE UPLOAD

**Status:** ðŸŸ¢ Completed
**Progress:** 23/23 tasks (100%)
**Started:** February 18, 2026
**Completed:** February 18, 2026

### Tasks:
- [âœ…] Create Upload.cshtml view
- [âœ…] Add file upload input (.csv and .xlsx accepted)
- [âœ…] Create sample CSV file (sample_employees.csv)
- [âœ…] Install EPPlus NuGet package (v7.0.0)
- [âœ…] Set EPPlus LicenseContext in Program.cs (NonCommercial)
- [âœ…] Create FileUploadService.cs
- [âœ…] Implement CSV reading logic (StreamReader, skip header)
- [âœ…] Implement Excel reading logic (EPPlus, skip row 1)
- [âœ…] Register FileUploadService in Program.cs (AddScoped)
- [âœ…] Create UploadResult.cs and RowResult.cs models
- [âœ…] Implement row validation (name, email format, salary, date)
- [âœ…] Check for duplicate emails within the uploaded file
- [âœ…] Check for duplicate emails against the database
- [âœ…] Implement auto-create department logic
- [âœ…] Implement bulk insert with in-memory email cache
- [âœ…] Create UploadResult.cshtml (summary + row detail table)
- [âœ…] Add Upload GET and POST actions to EmployeeController
- [âœ…] Add using directive for Services in EmployeeController and Program.cs
- [âœ…] Add "Bulk Upload" button to Employee Index page header
- [âœ…] Test with valid rows
- [âœ…] Test with invalid rows (missing name, bad email, bad salary, bad date)
- [âœ…] Test duplicate detection (in-file and in-database)
- [âœ…] Added loading overlay + button disable on submit (Module 7)

### Files Created:
- `Models/UploadResult.cs`
- `Services/FileUploadService.cs`
- `Views/Employee/Upload.cshtml`
- `Views/Employee/UploadResult.cshtml`
- `sample_employees.csv`

### Issues Encountered & Resolved:
1. **`FileUploadService` not found:** Missing `using EmployeeManagementSystem.Services;` â€” added to both files. âœ…

### Approval Status: âœ… Module 5 COMPLETE

---

## MODULE 6: DASHBOARD

**Status:** ðŸŸ¢ Completed
**Progress:** 10/10 tasks (100%)
**Started:** February 18, 2026
**Completed:** February 18, 2026

### Tasks:
- [âœ…] Create DashboardViewModel.cs
- [âœ…] Update HomeController to inject ApplicationDbContext
- [âœ…] Calculate TotalEmployees (CountAsync)
- [âœ…] Calculate TotalActiveDepartments (CountAsync with filter)
- [âœ…] Calculate AverageSalary (AnyAsync check + AverageAsync)
- [âœ…] Replace Views/Home/Index.cshtml with dashboard layout
- [âœ…] Add three stat cards (Employees, Departments, Average Salary)
- [âœ…] Add quick links to Employees and Departments
- [âœ…] Verify navbar Home link points to HomeController
- [âœ…] Test statistics accuracy

### Files Created/Modified:
- `Models/DashboardViewModel.cs`
- `Controllers/HomeController.cs`
- `Views/Home/Index.cshtml`

### Issues Encountered & Resolved:
1. **`DefaultIfEmpty(0)` EF translation error:** Replaced with `AnyAsync()` guard + `AverageAsync()`. âœ…

### Approval Status: âœ… Module 6 COMPLETE

---

## MODULE 7: VALIDATION & ERROR HANDLING

**Status:** ðŸŸ¢ Completed
**Progress:** 4/4 tasks (100%)
**Started:** February 18, 2026
**Completed:** February 18, 2026

### Tasks:
- [âœ…] Add `ILogger` + `try-catch` to DepartmentController (Create POST, Edit POST, Delete)
- [âœ…] Add `ILogger` + `try-catch` to EmployeeController (Create POST, Edit POST, Delete, Upload POST)
- [âœ…] Replace default Error page with custom user-friendly error page
- [âœ…] Add loading overlay + button disable on bulk upload form

### Files Modified:
- `Controllers/DepartmentController.cs` â€” ILogger injected via constructor, try-catch on all POST actions
- `Controllers/EmployeeController.cs` â€” ILogger injected via constructor, try-catch on all POST actions
- `Views/Shared/Error.cshtml` â€” replaced default template with clean error page
- `Views/Employee/Upload.cshtml` â€” loading overlay added, submit button disabled on click

### Key Concepts Learned:
- **`ILogger<T>`:** ASP.NET's built-in logging interface â€” injected via constructor, writes errors to terminal output with `_logger.LogError(ex, "message", args)`
- **`try-catch` in controllers:** Wraps `SaveChangesAsync()` so unexpected DB errors show a friendly message instead of a raw crash page. Validation logic stays outside the try block.
- **Disable button on submit:** Prevents double-submission on slow operations â€” set `button.disabled = true` inside the form's submit event handler
- **Loading overlay pattern:** Full-screen fixed `div` hidden by default (`d-none`), shown on form submit by swapping CSS classes (`d-none` â†’ `d-flex`)

### Issues Encountered & Resolved:
1. **Upload form allowed double-submission:** Disabled submit button inside form submit handler. âœ…

### Approval Status: âœ… Module 7 COMPLETE

---

## MODULE 8: FINAL POLISH

**Status:** ðŸŸ¢ Completed
**Progress:** 14/14 tasks (100%)
**Started:** February 19, 2026
**Completed:** February 19, 2026

### Tasks:
- [âœ…] Add comments to all controllers (EmployeeController, HomeController, DepartmentController, Program.cs)
- [âœ…] Remove unused `Privacy()` action from HomeController
- [âœ…] Fix apostrophe bug in Department delete confirm dialog
- [âœ…] Add `table-responsive` wrapper to Department and Employee tables
- [âœ…] Add `align-middle` to all tables for consistent row alignment
- [âœ…] Rename app from "EmployeeManagementSystem" to "Employee Management System" in navbar, title, and footer
- [âœ…] Remove Privacy page link from navbar and footer
- [âœ…] Move delete confirmation to a safe JS function using `data-name` attribute
- [âœ…] Add `@section Scripts` to Department/Index.cshtml
- [âœ…] Review and confirm all views have adequate comments
- [âœ…] Verify README.md is complete and accurate
- [âœ…] Verify Setup.md is complete and accurate
- [âœ…] Verify DatabaseScript.sql matches current schema
- [âœ…] Verify sample_employees.csv is present and correctly formatted

### Files Modified:
- `Controllers/EmployeeController.cs` â€” full section comments on all 8 actions
- `Controllers/HomeController.cs` â€” comments added, unused Privacy() action removed
- `Program.cs` â€” comments added to every section
- `Views/Department/Index.cshtml` â€” apostrophe bug fixed, table-responsive added, JS confirm refactored
- `Views/Employee/Index.cshtml` â€” table-responsive added, JS comments added
- `Views/Home/Index.cshtml` â€” comments added throughout
- `Views/Shared/_Layout.cshtml` â€” app name spaced, Privacy removed from nav and footer

### Bugs Fixed:
1. **Department delete confirm breaks on apostrophes:** Was embedding `@dept.DepartmentName` directly in an `onsubmit` string â€” names like "Ali's Team" would break the JavaScript. Fixed by reading the name from a `data-name` HTML attribute inside a safe `confirmDelete()` function. âœ…
2. **Tables not responsive on mobile:** Wrapped all tables in `<div class="table-responsive">` so they scroll horizontally on small screens instead of overflowing. âœ…
3. **App name missing spaces:** "EmployeeManagementSystem" shown in navbar, title tag, and footer. Updated to "Employee Management System" across all 3 locations. âœ…

### Key Concepts Learned:
- **`data-*` attributes:** Safe way to pass server-side values to JavaScript â€” HTML attribute encoding handles apostrophes and quotes automatically
- **`table-responsive`:** Bootstrap wrapper that makes tables scroll horizontally on small screens instead of overflowing the page
- **`align-middle`:** Bootstrap class that vertically centers all cells in a table row â€” important when a row mixes badges, buttons, and plain text
- **`[FromServices]`:** Injects a service into a single action parameter instead of the constructor â€” more precise when a service is only needed in one action

### Approval Status: âœ… Module 8 COMPLETE

---

## OVERALL PROJECT METRICS

### Time Tracking:
- **Estimated Total Time:** 30â€“37 hours
- **Actual Time Spent:** ~7 hours
- **Time Remaining:** 0 â€” project complete âœ…

### Task Completion:
- **Total Tasks:** 147
- **Completed:** 147
- **Remaining:** 0

### Module Completion:
- **Modules Completed:** 9 (Modules 0â€“8)
- **Modules Remaining:** 0

---

## DECISIONS LOG

| # | Decision | Reason | Date |
|---|----------|--------|------|
| 1 | ASP.NET Core MVC + EF Core | Required by spec | Feb 17 |
| 2 | Incremental module-by-module development | Easier to test and learn | Feb 17 |
| 3 | EF Core v8.0.0 with .NET 10 | Stable, compatible with SQL Server 2019 Docker | Feb 18 |
| 4 | Show all departments (Active + Inactive) with badges | Better visibility | Feb 18 |
| 5 | Hard delete for departments | User preference | Feb 18 |
| 6 | FK guard on department delete | Prevents crash; shows friendly message instead | Feb 18 |
| 7 | Nullable `DateTime?` for JoiningDate | Fixes browser date picker defaulting to year 0001 | Feb 18 |
| 8 | `[Range]` instead of `[Required]` on `int DepartmentId` | `[Required]` is ineffective on value types | Feb 18 |
| 9 | `@Html.AntiForgeryToken()` on Employee Index page | Required so AJAX delete can send the token | Feb 18 |
| 10 | jQuery `.on('submit')` with `e.preventDefault()` first | Prevents page refresh even if later JS throws | Feb 18 |
| 11 | `ILogger<T>` + try-catch only around `SaveChangesAsync()` | Validation stays outside so errors surface correctly | Feb 18 |
| 12 | Disable upload button on submit | Prevents double-submission during file processing | Feb 18 |
| 13 | `data-name` attribute for delete confirmation | Safely handles department names with apostrophes | Feb 19 |
| 14 | Remove Privacy page | Not required by spec; removes dead code | Feb 19 |
| 15 | `[FromServices]` for FileUploadService in Upload POST | Only needed in one action â€” cleaner than constructor injection | Feb 19 |

---

## ISSUES & RESOLUTIONS LOG

| # | Module | Issue | Resolution | Date |
|---|--------|-------|------------|------|
| 1 | M0 | Docker platform warning on Apple Silicon | Expected â€” SQL Server runs via Rosetta emulation | Feb 17 |
| 2 | M0 | DBeaver "GO" command error | GO is SSMS-only; removed from DBeaver scripts | Feb 17 |
| 3 | M0 | .csproj named incorrectly | Recreated project with correct name | Feb 17 |
| 4 | M0 | RootNamespace set to `_` | Recreated project fresh | Feb 17 |
| 5 | M2 | Departments not showing in list | Pass `new Department()` from GET Create action | Feb 18 |
| 6 | M2 | Soft delete kept records visible | Changed to hard delete per user preference | Feb 18 |
| 7 | M2 | Department delete crashed with FK error | Added employee count check; shows TempData error | Feb 18 |
| 8 | M3 | Page refreshing on form submit | Switched to jQuery `.on('submit')` with `e.preventDefault()` first | Feb 18 |
| 9 | M3 | `$.validator is undefined` | Added `_ValidationScriptsPartial` to Employee Index Scripts | Feb 18 |
| 10 | M3 | Build error: `RenderPartialAsync` in section | Changed to `Html.PartialAsync` | Feb 18 |
| 11 | M3 | Date picker stuck on year 0001 | Made `JoiningDate` nullable + added migration | Feb 18 |
| 12 | M3 | `[Required]` on `DepartmentId` always passes | Replaced with `[Range(1, int.MaxValue)]` | Feb 18 |
| 13 | M3 | Employee delete returns 400 | Added `@Html.AntiForgeryToken()` to Index.cshtml | Feb 18 |
| 14 | M5 | `FileUploadService` not found | Added `using EmployeeManagementSystem.Services;` | Feb 18 |
| 15 | M6 | `DefaultIfEmpty(0)` EF translation error | Replaced with `AnyAsync()` guard + `AverageAsync()` | Feb 18 |
| 16 | M7 | Upload form allowed double-submission | Disabled submit button inside form submit handler | Feb 18 |
| 17 | M8 | Apostrophe in dept name breaks JS confirm | Used `data-name` attribute + `confirmDelete()` function | Feb 19 |
| 18 | M8 | Tables overflow on small screens | Wrapped tables in `<div class="table-responsive">` | Feb 19 |
| 19 | M8 | App name had no spaces in UI | Updated navbar brand, `<title>`, and footer text | Feb 19 |

---

## QUESTIONS & ANSWERS LOG

| # | Question | Answer | Module |
|---|----------|--------|--------|
| 1 | What is `virtual` on a navigation property? | Enables EF lazy loading | M1 |
| 2 | What does `get; set;` mean? | C# auto-property â€” compiler generates backing field | M1 |
| 3 | What is `modelBuilder`? | EF's configuration tool for indexes, relationships, constraints | M1 |
| 4 | What is `base`? | Calls the parent class constructor before yours | M1 |
| 5 | What is EF? | Interact with DB using C# instead of raw SQL | M1 |
| 6 | `readonly` but assigned in constructor? | Can only be assigned once, during construction | M2 |
| 7 | How does `@section Scripts` handle validation? | data annotations â†’ data-val-* HTML attributes â†’ jQuery validation reads them | M2 |
| 8 | What is ModelState? | Dictionary of form fields and validation errors | M2 |
| 9 | What is `RedirectToAction(nameof(Index))`? | HTTP 302 redirect; nameof() is compile-safe | M2 |
| 10 | How does asp-action + asp-route-id build the URL? | Razor Tag Helpers run server-side, generate correct href | M2 |
| 11 | What is `@Html.AntiForgeryToken()`? | Hidden input with encrypted token to prevent CSRF | M2 |
| 12 | What is a CSRF attack? | Malicious site tricks browser into submitting with your session cookie | M2 |
| 13 | How is "Active" checkbox pre-checked? | Model has `= true` default; passing `new Department()` from GET makes Razor render it checked | M2 |
| 14 | What does `@` mean in Razor? | Switches from HTML to C# mode | M2 |
| 15 | What is a Partial View? | Fragment of HTML returned by controller, injected via AJAX | M3 |
| 16 | Why must `e.preventDefault()` be first? | Any JS error after event starts causes browser to fall back to default submit | M3 |
| 17 | Why does `[Required]` not work on `int`? | `int` is a value type â€” never null â€” use `[Range(1, int.MaxValue)]` instead | M3 |
| 18 | Why did the date picker get stuck on year 0001? | `DateTime` defaults to `DateTime.MinValue` â€” fixed by using `DateTime?` | M3 |
| 19 | Why add `_ValidationScriptsPartial` to a list page? | Forms are loaded dynamically via AJAX â€” jQuery validation must be present on the host page | M3 |
| 20 | What does `$.validator.unobtrusive.parse()` do? | Re-wires validation for forms injected after page load | M3 |
| 21 | Why did Employee delete return 400? | Antiforgery token missing â€” added `@Html.AntiForgeryToken()` to Index page | M3 |
| 22 | What is a FK constraint error? | Database blocks deleting a row that other rows still reference | M3 |
| 23 | What is `.Include()` and why is it needed? | EF eager loading â€” loads related entities in same query | M3 |
| 24 | What is `return Json(...)` vs `return PartialView()`? | Json() sends data to AJAX callers; PartialView() sends HTML | M3 |
| 25 | What is `method="get"` on a search form? | Submits filters as URL query params â€” bookmarkable, back-button friendly | M4 |
| 26 | What is `AsQueryable()` + deferred execution? | Build query in memory; DB hit only on `ToListAsync()` | M4 |
| 27 | What is a ViewModel? | Plain C# class shaped for the view's needs â€” not a DB model | M6 |
| 28 | Why guard `AverageAsync()` with `AnyAsync()`? | `AverageAsync()` throws on empty table | M6 |
| 29 | What is `IFormFile`? | ASP.NET interface for uploaded files | M5 |
| 30 | Why `enctype="multipart/form-data"`? | Without it the browser doesn't transmit file binary data | M5 |
| 31 | Why use in-memory cache during bulk upload? | Avoids N+1 DB queries â€” load all emails/departments once before the loop | M5 |
| 32 | Why `i + 2` for row numbers? | Header row already skipped â€” `i=0` maps to file row 2 | M5 |
| 33 | What is `HashSet<string>`? | O(1) lookup â€” faster than List for duplicate email checks within the file | M5 |
| 34 | What is `ILogger<T>`? | ASP.NET built-in logging â€” injected via constructor, logs to terminal with `LogError()` | M7 |
| 35 | Where should try-catch go in a controller? | Around `SaveChangesAsync()` only â€” validation stays outside | M7 |
| 36 | How to prevent double form submission? | Disable the submit button inside the form's submit event handler | M7 |
| 37 | How does the loading overlay pattern work? | Fixed full-screen div hidden with `d-none`, shown on submit by swapping to `d-flex` | M7 |
| 38 | Why can't you embed a model value in a JS confirm string? | Apostrophes in the value break the JS string â€” use `data-name` attribute instead | M8 |
| 39 | What is `table-responsive`? | Bootstrap wrapper â€” makes table scroll horizontally on small screens instead of overflowing | M8 |
| 40 | What does `align-middle` do on a table? | Vertically centers all cells in each row â€” prevents uneven alignment when mixing badges, buttons, and text | M8 |
| 41 | Why was `Privacy()` removed from HomeController? | Auto-scaffolded but never used â€” dead code that adds a reachable but empty route | M8 |
| 42 | What is `[FromServices]`? | Injects a service into one action parameter only â€” more precise than constructor injection when the service is only needed in one place | M8 |

---

## WEEKLY REVIEW

### Week 1: (Feb 17 â€“ Feb 19, 2026)
**Planned:** Modules 0â€“8
**Completed:** Modules 0â€“8 âœ…
**Challenges:** 19 bugs across all modules; all resolved
**Learnings:** Full ASP.NET Core MVC stack â€” EF Core, Razor, AJAX modal pattern, jQuery validation, bulk file processing, logging, error handling, responsive design
**Final Status:** Project complete and ready for submission âœ…

---

## DAILY LOG

### February 17, 2026
**Time Spent:** ~1 hour
**What We Did:** Full environment setup, all project documentation created. Project running on http://localhost:5099

### February 18, 2026
**Time Spent:** ~6 hours
**What We Did:**
- Module 1: Models, DbContext, EF configuration, migrations
- Module 2: Full Department CRUD with validation, badges, hard delete + FK guard
- Module 3: Full Employee CRUD via AJAX popup modals, validation, delete with antiforgery token
- Module 4: Search & filter with AsQueryable, deferred execution, ViewBag persistence
- Module 5: Bulk upload (CSV + Excel), row validation, duplicate detection, auto-create department
- Module 6: Dashboard with live stats (CountAsync, AverageAsync, AnyAsync guard)
- Module 7: ILogger + try-catch on all controllers, custom error page, upload loading overlay
- Fixed 16 bugs across all modules
- Generated DatabaseScript.sql from EF migrations
- Created README.md and Setup.md

### February 19, 2026
**Time Spent:** ~1 hour
**What We Did:**
- Module 8: Final polish â€” code comments, bug fixes (apostrophe confirm, table-responsive, app name spacing), removed Privacy page, cleaned HomeController
- Fixed 3 bugs found during review
- Updated all documentation
- Project submitted âœ…

---

**Last Updated:** February 19, 2026
**Updated By:** Development Team
**Status:** âœ… Complete â€” Submitted